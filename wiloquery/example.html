<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <meta name="robots" content="noindex" />
    <title>Wiloquery - Exemple</title>
    <script src="wiloquery.min.js"></script>
  </head>
  <body>
    <h1>Wiloquery - Exemple</h1>
    <h2>Démonstration</h2>
    <p>Bonjour qui ?</p>
    <ul>
      <li><a href="?who=Arthur">Arthur</a> ;</li>
      <li><a href="?who=Léodagan">Léodagan</a> ;</li>
      <li><a href="?who=Perceval&amp;who=Karadoc">Perceval et Karadoc</a> ;</li>
      <li><a href="?who=La+Dame+du+Lac">La Dame du Lac</a> ;</li>
      <li><a href="?who=Manilius&amp;who=Caius&amp;who=Verinus">
            Manilius, Caius et Verinus</a>.</li>
    </ul>
    <p>
      Bonjour <strong id="who"></strong> !
    </p>

    <h2>Code</h2>
    <script id="script">
      var query = window.location.query;
      var who;
      // Si le paramètre "who" est présent dans l'URL.
      if ("who" in query) {
          // Si l'URL contient plusieurs paramètres "who".
          if (Array.isArray(query.who)) {
              // Réunir les noms en les séparant par une virgule et remplacer
              // la dernière virgule par un "et".
              who = query.who.join(", ").replace(/, ([^,]*)$/, " et $1");
          // Si le paramètre "who" n'a pas de valeur.
          } else if (null === query.who) {
              who = "Méléagant";
          // Sinon : un seul paramètre "who" est renseigné.
          } else {
              who = query.who;
          }
      // Si le paramètre "who" n'est pas spécifié dans l'URL.
      } else {
          who = "tout le monde";
      }
      document.getElementById("who").innerHTML = who;
    </script>
    <pre><script>
      // Afficher le code JavaScript dans la page.
      document.write(document.getElementById("script").innerHTML);
    </script></pre>
  </body>
</html>
