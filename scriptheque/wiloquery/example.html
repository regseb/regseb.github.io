<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta charset="utf-8" />
    <title>Wiloquery - Example</title>
    <script src="wiloquery.min.js"></script>
  </head>
  <body>
    <h1>Wiloquery - Example</h1>
    <h2>Demo</h2>
    <p>Hello who?</p>
    <ul>
      <li><a href="?who=Mikey" title="?who=Mikey">Mikey</a>;</li>
      <li><a href="?who=Mouth" title="?who=Mouth">Mouth</a>;</li>
      <li><a href="?who=Data"  title="?who=Data">Data</a>;</li>
      <li><a href="?who=Chunk" title="?who=Chunk">Chunk</a>;</li>
      <li><a href="?who=Sloth" title="?who=Sloth">Sloth</a>;</li>
      <li><a href="?who=Brand&amp;who=Andy&amp;who=Stef"
             title="?who=Brand&amp;who=Andy&amp;who=Stef">Brand, Andy and
                                                          Stef</a>.</li>
    </ul>
    <p>
      Hello <strong id="who"></strong>!
    </p>

    <h2>Code</h2>
    <script id="script">
      var query = window.location.query;
      var who;
      if ("who" in query) {
          if (Array.isArray(query.who)) {
              who = query.who.join(", ").replace(/, ([^,]*)$/, " and $1");
          } else {
              who = query.who;
          }
      } else {
          who = "World";
      }
      document.getElementById("who").innerHTML = who;
    </script>
    <pre><script>
      document.write(document.getElementById("script").innerHTML);
    </script></pre>
  </body>
</html>
